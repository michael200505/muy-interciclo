<app-header></app-header>

<page-container>
  <!-- Estados -->
  <div *ngIf="loading" class="hint">Cargando portafolio...</div>

  <div *ngIf="!loading && notFound" class="hint">
    Portafolio no encontrado.
  </div>

  <ng-container *ngIf="!loading && programmer">
    <!-- PERFIL -->
    <div class="portfolio-header">
      <img
        [src]="programmer.photoURL || 'https://via.placeholder.com/96'"
        alt="Foto de {{ programmer.name }}"
        class="avatar-lg"
      />

      <div class="profile-info">
        <h1>{{ programmer.name }}</h1>
        <p class="specialty">{{ programmer.specialty }}</p>
        <p class="description">{{ programmer.description }}</p>

        <div class="cta-row">
          <button (click)="agendar(programmer.uid)">Agendar asesor√≠a</button>
        </div>

        <!-- CONTACTO / REDES -->
        <div class="contact-grid">
  <a *ngIf="programmer.contactLinks?.email"
     [href]="'mailto:' + programmer.contactLinks?.email">
    ‚úâÔ∏è {{ programmer.contactLinks?.email }}
  </a>

  <a *ngIf="programmer.contactLinks?.github"
     [href]="programmer.contactLinks?.github"
     target="_blank" rel="noopener">
    üíª GitHub
  </a>

  <a *ngIf="programmer.contactLinks?.linkedin"
     [href]="programmer.contactLinks?.linkedin"
     target="_blank" rel="noopener">
    üîó LinkedIn
  </a>

  <a *ngIf="programmer.contactLinks?.whatsapp"
     [href]="whatsappLink(programmer.contactLinks?.whatsapp)"
     target="_blank" rel="noopener">
    üí¨ WhatsApp
  </a>

  <a *ngIf="programmer.socialLinks?.twitter"
     [href]="programmer.socialLinks?.twitter"
     target="_blank" rel="noopener">
    üê¶ Twitter/X
  </a>

  <a *ngIf="programmer.socialLinks?.instagram"
     [href]="programmer.socialLinks?.instagram"
     target="_blank" rel="noopener">
    üì∏ Instagram
  </a>

  <a *ngIf="programmer.socialLinks?.facebook"
     [href]="programmer.socialLinks?.facebook"
     target="_blank" rel="noopener">
    üìò Facebook
  </a>
</div>

      </div>
    </div>

    <hr>

    <!-- PROYECTOS ACAD√âMICOS -->
    <h2>Proyectos Acad√©micos</h2>
    <div *ngIf="academicProjects.length === 0" class="hint">
      No hay proyectos acad√©micos todav√≠a.
    </div>

    <div class="project-list" *ngIf="academicProjects.length > 0">
      <div class="project-card" *ngFor="let p of academicProjects">
        <h3>{{ p.title }}</h3>
        <p>{{ p.description }}</p>

        <p><b>Rol:</b> {{ p.role }}</p>
        <p><b>Tecnolog√≠as:</b> {{ p.technologies.join(', ') }}</p>

        <div class="links">
          <a *ngIf="p.repoURL" [href]="p.repoURL" target="_blank" rel="noopener">Repositorio</a>
          <a *ngIf="p.demoURL" [href]="p.demoURL" target="_blank" rel="noopener">Demo</a>
        </div>
      </div>
    </div>

    <hr>

    <!-- PROYECTOS PROFESIONALES -->
    <h2>Proyectos Profesionales</h2>
    <div *ngIf="professionalProjects.length === 0" class="hint">
      No hay proyectos profesionales todav√≠a.
    </div>

    <div class="project-list" *ngIf="professionalProjects.length > 0">
      <div class="project-card" *ngFor="let p of professionalProjects">
        <h3>{{ p.title }}</h3>
        <p>{{ p.description }}</p>

        <p><b>Rol:</b> {{ p.role }}</p>
        <p><b>Tecnolog√≠as:</b> {{ p.technologies.join(', ') }}</p>

        <div class="links">
          <a *ngIf="p.repoURL" [href]="p.repoURL" target="_blank" rel="noopener">Repositorio</a>
          <a *ngIf="p.demoURL" [href]="p.demoURL" target="_blank" rel="noopener">Demo</a>
        </div>
      </div>
    </div>

  </ng-container>
</page-container>
