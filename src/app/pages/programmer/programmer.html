<app-header></app-header>

<page-container>

  <h1>Panel del Programador</h1>

  <!-- PROYECTOS -->
  <section class="card">
    <h2>Mis Proyectos</h2>

    <a class="btn-new" routerLink="/programmer/new-project">+ Nuevo Proyecto</a>

    <div class="project-list">
      <div class="project-item" *ngFor="let p of projects">
        <h3>{{ p.title }}</h3>
        <p>{{ p.description }}</p>
        <p><b>Tipo:</b> {{ p.type }}</p>
        <p><b>Rol:</b> {{ p.role }}</p>
        <p><b>Tecnologías:</b> {{ p.technologies.join(', ') }}</p>

        <div class="actions">
          <a routerLink="['/programmer/edit', p.uid]" class="edit">Editar</a>
          <button class="delete">Eliminar</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ASESORÍAS -->
  <section class="card">
    <h2>Solicitudes de Asesorías</h2>

    <div class="asesoria-list">
      <div class="asesoria-item" *ngFor="let a of asesorias">
        <p><b>Alumno:</b> {{ a.name }}</p>
        <p><b>Fecha:</b> {{ a.date }} — {{ a.hour }}</p>
        <p><b>Motivo:</b> {{ a.comment }}</p>
        <p><b>Estado:</b> {{ a.status }}</p>

        <div class="actions">
          <button *ngIf="a.status === 'pending'" (click)="approve(a)" class="approve">Aprobar</button>
          <button *ngIf="a.status === 'pending'" (click)="reject(a)" class="reject">Rechazar</button>
        </div>
      </div>
    </div>
  </section>

</page-container>
